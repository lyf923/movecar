<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>保险分期</title>
	<meta name="wap-font-scale" content="no">
	<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<link rel="stylesheet" href="css/cui.css" />    
	<link rel="stylesheet" href="css/movecar.css" />
     <script src="js/jquery.js"></script>
</head>
<body>
	<!-- 头部 -->
	<header class="g-header3">
		
		<h1>保险分期</h1>
	</header>
   
    <section class="gbd top">
    <h1 class="font-blue font-size">上传身份证正反面</h1>
    <ul class="maintenance">
   	    <li>
            <canvas id="m-cvs" ></canvas>
            <span class="btn upload">上传身份证正面<input type="file" class="upload_pic" id="js-business" /></span>
        </li>
        <li>
        	<canvas id="m-cvs1"></canvas>
            <span class="btn upload">身份证反面<input type="file" class="upload_pic" id="js-headlight" /></span>
        </li>
      </ul>
      <h1 class="font-blue">上传行驶证正本副本</h1>
      <ul class="maintenance">
        <li>
            <canvas id="m-cvs2"></canvas>
            <span class="btn upload">上传行驶证正本<input type="file" class="upload_pic" id="js-environmenta" /></span>
        </li>
        <li >
            <canvas id="m-cvs3"></canvas>
            <span class="btn upload">上传行驶证副本<input type="file" class="upload_pic" id="js-transcripta" /></span>
        </li>
      </ul>
      <h1 class="font-blue">上传银行卡</h1>
      <ul class="maintenance">
        <li>
            <canvas id="m-cvs4"></canvas>
            <span class="btn upload">上传银行卡<input type="file" class="upload_pic" id="js-bank" /></span>
        </li>
        
      </ul>
      <div style="clear:both; padding-bottom:.36rem;"></div>
      
	</section>	
     <div>
    	<p class="cen bottom button button1">提交</p>
       
       </div>	
   <div style="padding-top:1.18rem; clear:both;"></div>
	<footer class="g-nav1 cen">
		<ul>
			<li><a href="index.html"><i class="icon1"></i>首页</a></li>
			<li class="on"><a href="my.html"><i class="icon2"></i>我的</a></li>
		</ul>
	</footer>
  
    <script>
		//获取上传身份证正面按钮
		var input = document.getElementById("js-business"); 
		
		if(typeof FileReader==='undefined'){ 
			
			 input.setAttribute('disabled','disabled'); 
		}else{ 
			 input.addEventListener('change',readFile,false); 
			
		}
		
		function readFile(){ 
			var file = this.files[0];//获取上传文件列表中第一个文件
			if(!/image\/\w+/.test(file.type)){
			//图片文件的type值为image/png或image/jpg
				alert("文件必须为图片！");
				return false; 
			} 
			// console.log(file);
			var reader = new FileReader();//实例一个文件对象
			reader.readAsDataURL(file);//把上传的文件转换成url
			//当文件读取成功便可以调取上传的接口
			reader.onload = function(e){ 
				
				var image = new Image();
				// 设置src属性 
				image.src = e.target.result;
				var max=200;
				// 绑定load事件处理器，加载完成后执行，避免同步问题
				image.onload = function(){ 
					// 获取 canvas DOM 对象 
					var canvas = document.getElementById("m-cvs"); 
					// 获取 canvas的 2d 环境对象, 
					var ctx = canvas.getContext("2d"); 
					// canvas清屏 
					ctx.clearRect(0, 0, canvas.width, canvas.height); 
					
					// ctx.drawImage(image, 0, 0, image.width, image.height);
					ctx.drawImage(image, 0, 0, 300, 200);
					// 注意，此时image没有加入到dom之中
				};  
			}
		};
		
		
		
		
		//获取上传身份证反面按钮
		var input = document.getElementById("js-headlight"); 
		
		if(typeof FileReader==='undefined'){ 
			
			 input.setAttribute('disabled','disabled'); 
		}else{ 
			 input.addEventListener('change',readFile1,false); 
			
		}
		
		function readFile1(){ 
			var file = this.files[0];//获取上传文件列表中第一个文件
			if(!/image\/\w+/.test(file.type)){
			//图片文件的type值为image/png或image/jpg
				alert("文件必须为图片！");
				return false; 
			} 
			// console.log(file);
			var reader = new FileReader();//实例一个文件对象
			reader.readAsDataURL(file);//把上传的文件转换成url
			//当文件读取成功便可以调取上传的接口
			reader.onload = function(e){ 
				
				var image = new Image();
				// 设置src属性 
				image.src = e.target.result;
				var max=200;
				// 绑定load事件处理器，加载完成后执行，避免同步问题
				image.onload = function(){ 
					// 获取 canvas DOM 对象 
					var canvas = document.getElementById("m-cvs1"); 
					// 获取 canvas的 2d 环境对象, 
					var ctx = canvas.getContext("2d"); 
					// canvas清屏 
					ctx.clearRect(0, 0, canvas.width, canvas.height); 
					
					// ctx.drawImage(image, 0, 0, image.width, image.height);
					ctx.drawImage(image, 0, 0, 300, 200);
					// 注意，此时image没有加入到dom之中
				};  
			}
		};
		
		
		
		
		//获取行驶证正本
		var input = document.getElementById("js-environmenta"); 
		
		if(typeof FileReader==='undefined'){ 
			
			 input.setAttribute('disabled','disabled'); 
		}else{ 
			 input.addEventListener('change',readFile2,false); 
			
		}
		
		function readFile2(){ 
			var file = this.files[0];//获取上传文件列表中第一个文件
			if(!/image\/\w+/.test(file.type)){
			//图片文件的type值为image/png或image/jpg
				alert("文件必须为图片！");
				return false; 
			} 
			// console.log(file);
			var reader = new FileReader();//实例一个文件对象
			reader.readAsDataURL(file);//把上传的文件转换成url
			//当文件读取成功便可以调取上传的接口
			reader.onload = function(e){ 
				
				var image = new Image();
				// 设置src属性 
				image.src = e.target.result;
				var max=200;
				// 绑定load事件处理器，加载完成后执行，避免同步问题
				image.onload = function(){ 
					// 获取 canvas DOM 对象 
					var canvas = document.getElementById("m-cvs2"); 
					// 获取 canvas的 2d 环境对象, 
					var ctx = canvas.getContext("2d"); 
					// canvas清屏 
					ctx.clearRect(0, 0, canvas.width, canvas.height); 
					
					// ctx.drawImage(image, 0, 0, image.width, image.height);
					ctx.drawImage(image, 0,0, 300, 200);
					// 注意，此时image没有加入到dom之中
				};  
			}
		};
		
		//获取行驶证副本
		var input = document.getElementById("js-transcripta"); 
		
		if(typeof FileReader==='undefined'){ 
			
			 input.setAttribute('disabled','disabled'); 
		}else{ 
			 input.addEventListener('change',readFile3,false); 
			
		}
		
		function readFile3(){ 
			var file = this.files[0];//获取上传文件列表中第一个文件
			if(!/image\/\w+/.test(file.type)){
			//图片文件的type值为image/png或image/jpg
				alert("文件必须为图片！");
				return false; 
			} 
			// console.log(file);
			var reader = new FileReader();//实例一个文件对象
			reader.readAsDataURL(file);//把上传的文件转换成url
			//当文件读取成功便可以调取上传的接口
			reader.onload = function(e){ 
				
				var image = new Image();
				// 设置src属性 
				image.src = e.target.result;
				var max=200;
				// 绑定load事件处理器，加载完成后执行，避免同步问题
				image.onload = function(){ 
					// 获取 canvas DOM 对象 
					var canvas = document.getElementById("m-cvs3"); 
					// 获取 canvas的 2d 环境对象, 
					var ctx = canvas.getContext("2d"); 
					// canvas清屏 
					ctx.clearRect(0, 0, canvas.width, canvas.height); 
					
					// ctx.drawImage(image, 0, 0, image.width, image.height);
					ctx.drawImage(image, 0,0, 300, 200);
					// 注意，此时image没有加入到dom之中
				};  
			}
		};
		
		//获取银行卡
		var input = document.getElementById("js-bank"); 
		
		if(typeof FileReader==='undefined'){ 
			
			 input.setAttribute('disabled','disabled'); 
		}else{ 
			 input.addEventListener('change',readFile4,false); 
			
		}
		
		function readFile4(){ 
			var file = this.files[0];//获取上传文件列表中第一个文件
			if(!/image\/\w+/.test(file.type)){
			//图片文件的type值为image/png或image/jpg
				alert("文件必须为图片！");
				return false; 
			} 
			// console.log(file);
			var reader = new FileReader();//实例一个文件对象
			reader.readAsDataURL(file);//把上传的文件转换成url
			//当文件读取成功便可以调取上传的接口
			reader.onload = function(e){ 
				
				var image = new Image();
				// 设置src属性 
				image.src = e.target.result;
				var max=200;
				// 绑定load事件处理器，加载完成后执行，避免同步问题
				image.onload = function(){ 
					// 获取 canvas DOM 对象 
					var canvas = document.getElementById("m-cvs4"); 
					// 获取 canvas的 2d 环境对象, 
					var ctx = canvas.getContext("2d"); 
					// canvas清屏 
					ctx.clearRect(0, 0, canvas.width, canvas.height); 
					
					// ctx.drawImage(image, 0, 0, image.width, image.height);
					ctx.drawImage(image, 0,0, 300, 200);
					// 注意，此时image没有加入到dom之中
				};  
			}
		};
	</script>
</body>
</html>